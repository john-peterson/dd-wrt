<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2002-2-1 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>MobileStatus Application</TITLE>
<META NAME="description" CONTENT="MobileStatus Application">
<META NAME="keywords" CONTENT="asterisk">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2002-2-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="asterisk.css">

<LINK REL="next" HREF="node201.html">
<LINK REL="previous" HREF="node199.html">
<LINK REL="up" HREF="node192.html">
<LINK REL="next" HREF="node201.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A NAME="tex2html3479"
  HREF="node201.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="/usr/share/latex2html/icons/next.png"></A> 
<A NAME="tex2html3475"
  HREF="node192.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="/usr/share/latex2html/icons/up.png"></A> 
<A NAME="tex2html3469"
  HREF="node199.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="/usr/share/latex2html/icons/prev.png"></A> 
<A NAME="tex2html3477"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="/usr/share/latex2html/icons/contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html3480"
  HREF="node201.html">SMS Sending / Receiving</A>
<B> Up:</B> <A NAME="tex2html3476"
  HREF="node192.html">Mobile</A>
<B> Previous:</B> <A NAME="tex2html3470"
  HREF="node199.html">Dialplan hints</A>
 &nbsp; <B>  <A NAME="tex2html3478"
  HREF="node1.html">Contents</A></B> 
<BR>
<BR></DIV>
<!--End of Navigation Panel-->

<H2><A NAME="SECTION00748000000000000000">
MobileStatus Application</A>
</H2>

<P>
chan_mobile also registers an application named MobileStatus. You can use this in your Dialplan
to determine the 'state' of a device.

<P>
For example, suppose you wanted to call dave's extension, but only if he was in the office. You could
test to see if his mobile phone was attached to Asterisk, if it is dial his extension, otherwise dial his
mobile phone.

<P>
<PRE>
exten =&gt; 40,1,MobileStatus(dave,DAVECELL)
exten =&gt; 40,2,GotoIf($["${DAVECELL}" = "1"]?3:5)
exten =&gt; 40,3,Dial(ZAP/g1/0427466412,45,tT)
exten =&gt; 40,4,Hangup
exten =&gt; 40,5,Dial(SIP/40,45,tT)
exten =&gt; 40,6,Hangup
</PRE>

<P>
MobileStatus sets the value of the given variable to :-

<P>
<PRE>
1 = Disconnected. i.e. Device not in range of Asterisk, or turned off etc etc
2 = Connected and Not on a call. i.e. Free
3 = Connected and on a call. i.e. Busy
</PRE>

<P>
<BR><HR>
<ADDRESS>
lmadsen
2010-10-21
</ADDRESS>
</BODY>
</HTML>

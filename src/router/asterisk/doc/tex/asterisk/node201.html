<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2002-2-1 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>SMS Sending / Receiving</TITLE>
<META NAME="description" CONTENT="SMS Sending / Receiving">
<META NAME="keywords" CONTENT="asterisk">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2002-2-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="asterisk.css">

<LINK REL="next" HREF="node202.html">
<LINK REL="previous" HREF="node200.html">
<LINK REL="up" HREF="node192.html">
<LINK REL="next" HREF="node202.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A NAME="tex2html3491"
  HREF="node202.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="/usr/share/latex2html/icons/next.png"></A> 
<A NAME="tex2html3487"
  HREF="node192.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="/usr/share/latex2html/icons/up.png"></A> 
<A NAME="tex2html3481"
  HREF="node200.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="/usr/share/latex2html/icons/prev.png"></A> 
<A NAME="tex2html3489"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="/usr/share/latex2html/icons/contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html3492"
  HREF="node202.html">DTMF Debouncing</A>
<B> Up:</B> <A NAME="tex2html3488"
  HREF="node192.html">Mobile</A>
<B> Previous:</B> <A NAME="tex2html3482"
  HREF="node200.html">MobileStatus Application</A>
 &nbsp; <B>  <A NAME="tex2html3490"
  HREF="node1.html">Contents</A></B> 
<BR>
<BR></DIV>
<!--End of Navigation Panel-->

<H2><A NAME="SECTION00749000000000000000">
SMS Sending / Receiving</A>
</H2>

<P>
If Asterisk has detected your mobile phone is capable of SMS via bluetooth, you will be able to send and
receive SMS.

<P>
Incoming SMS's cause Asterisk to create an inbound call to the context you defined in mobile.conf or the default
context if you did not define one. The call will start at extension 'sms'. Two channel variables will be available,
SMSSRC = the number of the originator of the SMS and SMSTXT which is the text of the SMS.
This is not a voice call, so grab the values of the variables and hang the call up.

<P>
So, to handle incoming SMS's, do something like the following in your dialplan

<P>
</B></SMALL>
<UL>
<LI><PRE>
[incoming-mobile]
exten =&gt; sms,1,Verbose(Incoming SMS from ${SMSSRC} ${SMSTXT})
exten =&gt; sms,n,Hangup()
</PRE><SMALL CLASS="SCRIPTSIZE"><B>
</LI>
</UL>
<P>
The above will just print the message on the console.

<P>
If you use res_jabber, you could do something like this :-

<P>
</B></SMALL>
<UL>
<LI><PRE>
[incoming-mobile]
exten =&gt; sms,1,JabberSend(transport,user@jabber.somewhere.com,SMS from ${SMSRC} ${SMSTXT})
exten =&gt; sms,2,Hangup()
</PRE><SMALL CLASS="SCRIPTSIZE"><B>
</LI>
</UL>
<P>
To send an SMS, use the application MobileSendSMS like the following :-

<P>
<PRE>
exten =&gt; 99,1,MobileSendSMS(dave,0427123456,Hello World)
</PRE>

<P>
This will send 'Hello World' via device 'dave' to '0427123456'

<P>

<DIV CLASS="navigation"><HR>
<!--Navigation Panel-->
<A NAME="tex2html3491"
  HREF="node202.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="/usr/share/latex2html/icons/next.png"></A> 
<A NAME="tex2html3487"
  HREF="node192.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="/usr/share/latex2html/icons/up.png"></A> 
<A NAME="tex2html3481"
  HREF="node200.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="/usr/share/latex2html/icons/prev.png"></A> 
<A NAME="tex2html3489"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="/usr/share/latex2html/icons/contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html3492"
  HREF="node202.html">DTMF Debouncing</A>
<B> Up:</B> <A NAME="tex2html3488"
  HREF="node192.html">Mobile</A>
<B> Previous:</B> <A NAME="tex2html3482"
  HREF="node200.html">MobileStatus Application</A>
 &nbsp; <B>  <A NAME="tex2html3490"
  HREF="node1.html">Contents</A></B> </DIV>
<!--End of Navigation Panel-->
<ADDRESS>
lmadsen
2010-10-21
</ADDRESS>
</BODY>
</HTML>

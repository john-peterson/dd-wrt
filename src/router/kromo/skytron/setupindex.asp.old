<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
   
      <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=iso-8859-1" />
      <title><% nvram_get("router_name"); %> - Setup</title>
      <link type="text/css" rel="stylesheet" href="style.css" /><script type="text/JavaScript" src="common.js">{}</script><script language="JavaScript">
 
function valid_password(F) {
	if (F.http_passwd.value != F.http_passwdConfirm.value) {
		alert("Confirmed password did not match Entered Password.  Please re-enter password");
		F.http_passwdConfirm.focus();
		F.http_passwdConfirm.select();
		return false;
	}

	return true;
}


function to_submit(F) {
	        if (valid_password(F) == false)return false;

 
		F.submit_button.value = "setupindex";
		F.action.value = "Apply";
		F.submit();
	
}



</script></head>
   <body class="gui">
      <div id="wrapper">
         <div id="content">
            <div id="header">
               <div id="logo">
                  <h1><% show_control(); %></h1>
               </div>
               <div id="menu">
                  <div id="menuMain">
                     <ul id="menuMainList">
                     </ul>
                  </div>
               </div>
            </div>
            <div id="main">
               <div id="contents">
                  <form name="setup" action="applyuser.cgi" method="<% get_http_method(); %>">
		  <input type="hidden" name="submit_button" />
		  <input type="hidden" name="change_action" />
		  <input type="hidden" name="submit_type" />
		  <input type="hidden" name="action" />
		  <input type="hidden" name="lan_ipaddr" value="4" />
		  <h2><% nvram_match("wl_mode", "ap", "Internet"); %><% nvram_invmatch("wl_mode", "ap", "Wireless"); %> Setup</h2>
    		
		     <fieldset>
                        <legend>Router IP</legend>
                        <div class="setting">
                           <div class="label">Local IP Address</div>
<input class="num" maxlength="3" size="3" onblur="valid_range(this,1,223,&#34;IP&#34;)" name="lan_ipaddr_0" value='<% get_single_ip("lan_ipaddr","0"); %>' />.<input class="num" maxlength="3" size="3" onblur="valid_range(this,0,255,&#34;IP&#34;)" name="lan_ipaddr_1" value='<% get_single_ip("lan_ipaddr","1"); %>' />.<input class="num" maxlength="3" size="3" onblur="valid_range(this,0,255,&#34;IP&#34;)" name="lan_ipaddr_2" value='<% get_single_ip("lan_ipaddr","2"); %>' />.<input class="num" maxlength="3" size="3" onblur="valid_range(this,1,254,&#34;IP&#34;)" name="lan_ipaddr_3" value='<% get_single_ip("lan_ipaddr","3"); %>' /></div>
                        <div class="setting">
                           <div class="label">Subnet Mask</div>
			    <input type="hidden" name="lan_netmask" value="4" />
<input class="num" maxLength="3" size="3" name="lan_netmask_0" onBlur="valid_range(this,0,255,'Netmask')" value='<% get_single_ip("lan_netmask","0"); %>' />.<input class="num" maxLength="3" size="3" name="lan_netmask_1" onBlur="valid_range(this,0,255,'Netmask')" value='<% get_single_ip("lan_netmask","1"); %>' />.<input class="num" maxLength="3" size="3" name="lan_netmask_2" onBlur="valid_range(this,0,255,'Netmask')" value='<% get_single_ip("lan_netmask","2"); %>' />.<input class="num" maxLength="3" size="3" name="lan_netmask_3" onBlur="valid_range(this,0,255,'Netmask')" value='<% get_single_ip("lan_netmask","3"); %>' />
		    </fieldset>
		    <fieldset>
			<legend>DHCP Settings</legend>
			<div class="setting">
                           <div class="label">DHCP Server</div>
			   <input type="radio" name="lan_proto" value="dhcp" onclick=SelDHCP('dhcp',this.form) <% nvram_selmatch("lan_proto", "dhcp", "checked"); %>>Enable</input>
			   <input type="radio" name="lan_proto" value="static" <% nvram_selmatch("lan_proto", "static", "checked"); %>>Disable</input></div><input type="hidden" name="dhcp_check" />
			<div class="setting">
                           <div class="label">Starting IP Address</div><% prefix_ip_get("lan_ipaddr",1); %>
			   <input class="num" name="dhcp_start" size="3" maxlength="3" onblur=valid_range(this,1,254,&#34;DHCP%20starting%20IP&#34;) value='<% nvram_get("dhcp_start"); %>' /></div>
                        <div class="setting">
                           <div class="label">Maximum DHCP Users</div>
			   <input class="num" name="dhcp_num" size="3" maxlength="3" onblur="valid_range(this,1,253,'Number of DHCP users')" value='<% nvram_get("dhcp_num"); %>' /></div>
                        <div class="setting">
                           <div class="label">Client Lease Time</div>
			   <input class="num" name="dhcp_lease" size="4" maxlength="4" onblur="valid_range(this,0,9999,'DHCP Lease Time')" value='<% nvram_get("dhcp_lease"); %>'> minutes</input></div><% nvram_selmatch("wan_proto","static","<!--"); %>

                        <div class="setting">
                           <div class="label">Static DNS 1</div><input type="hidden" name="wan_dns" value="4" /><input class="num" name="wan_dns0_0" size="3" maxlength="3" onblur=valid_range(this,0,255,&#34;DNS&#34;) value='<% get_dns_ip("wan_dns","0","0"); %>' />.<input class="num" name="wan_dns0_1" size="3" maxlength="3" onblur=valid_range(this,0,255,&#34;DNS&#34;) value='<% get_dns_ip("wan_dns","0","1"); %>' />.<input class="num" name="wan_dns0_2" size="3" maxlength="3" onblur=valid_range(this,0,255,&#34;DNS&#34;) value='<% get_dns_ip("wan_dns","0","2"); %>' />.<input class="num" name="wan_dns0_3" size="3" maxlength="3" onblur=valid_range(this,0,254,&#34;DNS&#34;) value='<% get_dns_ip("wan_dns","0","3"); %>' /></div>
                        <div class="setting">
                           <div class="label">Static DNS 2</div><input class="num" name="wan_dns1_0" size="3" maxlength="3" onblur=valid_range(this,0,255,&#34;DNS&#34;) value='<% get_dns_ip("wan_dns","1","0"); %>' />.<input class="num" name="wan_dns1_1" size="3" maxlength="3" onblur=valid_range(this,0,255,&#34;DNS&#34;) value='<% get_dns_ip("wan_dns","1","1"); %>' />.<input class="num" name="wan_dns1_2" size="3" maxlength="3" onblur=valid_range(this,0,255,&#34;DNS&#34;) value='<% get_dns_ip("wan_dns","1","2"); %>' />.<input class="num" name="wan_dns1_3" size="3" maxlength="3" onblur=valid_range(this,0,254,&#34;DNS&#34;) value='<% get_dns_ip("wan_dns","1","3"); %>' /></div>
                        <div class="setting">
                           <div class="label">Static DNS 3</div><input class="num" name="wan_dns2_0" size="3" maxlength="3" onblur=valid_range(this,0,255,&#34;DNS&#34;) value='<% get_dns_ip("wan_dns","2","0"); %>' />.<input class="num" name="wan_dns2_1" size="3" maxlength="3" onblur=valid_range(this,0,255,&#34;DNS&#34;) value='<% get_dns_ip("wan_dns","2","1"); %>' />.<input class="num" name="wan_dns2_2" size="3" maxlength="3" onblur=valid_range(this,0,255,&#34;DNS&#34;) value='<% get_dns_ip("wan_dns","2","2"); %>' />.<input class="num" name="wan_dns2_3" size="3" maxlength="3" onblur=valid_range(this,0,254,&#34;DNS&#34;) value='<% get_dns_ip("wan_dns","2","3"); %>' /></div><% nvram_selmatch("wan_proto","static","-->"); %>
                        <div class="setting">
                           <div class="label">WINS</div><input type="hidden" name="wan_wins" value="4" /><input class="num" name="wan_wins_0" size="3" maxlength="3" onblur=valid_range(this,0,255,&#34;WINS&#34;) value='<% get_single_ip("wan_wins","0"); %>' />.<input class="num" name="wan_wins_1" size="3" maxlength="3" onblur=valid_range(this,0,255,&#34;WINS&#34;) value='<% get_single_ip("wan_wins","1"); %>' />.<input class="num" name="wan_wins_2" size="3" maxlength="3" onblur=valid_range(this,0,255,&#34;WINS&#34;) value='<% get_single_ip("wan_wins","2"); %>' />.<input class="num" name="wan_wins_3" size="3" maxlength="3" onblur=valid_range(this,0,254,&#34;WINS&#34;) value='<% get_single_ip("wan_wins","3"); %>' /></div>
		      </fieldset></br>
		      	<fieldset>
    			<legend>Router Password</legend>
			<div class="setting">
			    <div class="label">Router Password</div>
			<input type="password" maxlength="63" size="20" value="d6nw5v1x2pc7st9m" name="http_passwd" onblur="valid_name(this,'Password',SPACE_NO)" /></div>
			<div class="setting">
			    <div class="label">Re-enter to confirm</div>
			<input type="password" maxlength="63" size="20" value="d6nw5v1x2pc7st9m" name="http_passwdConfirm" onblur="valid_name(this,'Password',SPACE_NO)" /></div>
		      </fieldset><br />	
		      <fieldset>
		      <% active_wireless2(); %>
		      </fieldset><br />
	    	    <div class="submitFooter">
		    <input type="button" value="Save Settings" onClick="to_submit(this.form)" />
		    <input type="reset" value="Cancel Changes" /></div>
	          
                  </form>
               </div>
            </div>
            <div id="statusInfo">
               <div class="info">Firmware: <% get_firmware_version(); %></div>
               <div class="info">Uptime: <% get_uptime(); %></div>
               <div class="info">WAN IP: <% nvram_status_get("wan_ipaddr"); %></div>
            </div>
            <div id="helpContainer">
               <div id="help">
                  <div id="logo">
                     <h2>Help</h2>
                  </div>
                  <dl>
                     <dt class="term">Local IP Address: </dt>
                     <dd class="definition">This is the address of the router.</dd>
                     <dt class="term">Subnet Mask: </dt>
                     <dd class="definition">This is the subnet mask of the router.</dd>
                  </dl></div>
            </div>
         </div>
      </div>
   </body>
</html>
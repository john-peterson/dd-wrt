<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2002-2-1 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Security-based dialplan branching</TITLE>
<META NAME="description" CONTENT="Security-based dialplan branching">
<META NAME="keywords" CONTENT="asterisk">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2002-2-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="asterisk.css">

<LINK REL="next" HREF="node343.html">
<LINK REL="previous" HREF="node341.html">
<LINK REL="up" HREF="node339.html">
<LINK REL="next" HREF="node343.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A NAME="tex2html5347"
  HREF="node343.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="/usr/share/latex2html/icons/next.png"></A> 
<A NAME="tex2html5343"
  HREF="node339.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="/usr/share/latex2html/icons/up.png"></A> 
<A NAME="tex2html5337"
  HREF="node341.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="/usr/share/latex2html/icons/prev.png"></A> 
<A NAME="tex2html5345"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="/usr/share/latex2html/icons/contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html5348"
  HREF="node343.html">Forcing bridged channels to</A>
<B> Up:</B> <A NAME="tex2html5344"
  HREF="node339.html">Secure Calls</A>
<B> Previous:</B> <A NAME="tex2html5338"
  HREF="node341.html">Channel-specific configuration</A>
 &nbsp; <B>  <A NAME="tex2html5346"
  HREF="node1.html">Contents</A></B> 
<BR>
<BR></DIV>
<!--End of Navigation Panel-->

<H1><A NAME="SECTION001930000000000000000">
Security-based dialplan branching</A>
</H1>
Each channel that supports secure signaling or media can implement a CHANNEL read callback function that specifies whether or not that channel meets the specified criteria. Currently, chan_iax2 and chan_sip implement these callbacks. Channels that do not support secure media or signaling will return an empty string when queried. For example, to only allow an inbound call that has both secure signaling and media, see the following example.

<P>
</B></SMALL>
<UL>
<LI><PRE>
exten =&gt; 123,1,GotoIf("$[${CHANNEL(secure_signaling)}" = ""]?fail)
exten =&gt; 123,n,GotoIf("$[${CHANNEL(secure_media)}" = ""]?fail)
exten =&gt; 123,n,Dial(SIP/123)
exten =&gt; 123,n,Hangup
exten =&gt; 123,n(fail),Playback(vm-goodbye)
exten =&gt; 123,n,Hangup
</PRE><SMALL CLASS="SCRIPTSIZE"><B>
</LI>
</UL>
<P>
<BR><HR>
<ADDRESS>
lmadsen
2010-10-21
</ADDRESS>
</BODY>
</HTML>

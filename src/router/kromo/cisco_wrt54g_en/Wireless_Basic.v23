<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
	<head>
		<% charset(); %>
		<script type="text/javascript" src="common.js"></script>
		<script type="text/javascript" src="lang_pack/english.js"></script>
		<script type="text/javascript" src="lang_pack/language.js"></script>
		<title><% nvram_get("router_name"); %> - Wireless</title>
		<link type="text/css" rel="stylesheet" href="style/<% nvram_get("router_style"); %>/style.css" />
		<!--[if IE]><link type="text/css" rel="stylesheet" href="style/<% nvram_get("router_style"); %>/style_ie.css" /><![endif]-->
		<script type="text/javascript">

document.title = "<% nvram_get("router_name"); %>" + wl_basic.titl;

function SelWL(num,F) {
  if ( num == 0)
    I = "0";
  else
    I = "1";
  wl_enable_disable(F,I);
}

function wl_enable_disable(F,I) {

  if( I == "0"){
    choose_disable(F.wl_ssid);
    choose_disable(F.wl_channel);
    <% nvram_match("wl_mode", "ap", "choose_disable(F.wl_closed[0]);"); %>
    <% nvram_match("wl_mode", "ap", "choose_disable(F.wl_closed[1]);"); %>
  } else {
    choose_enable(F.wl_ssid);
    choose_enable(F.wl_channel);
    <% nvram_match("wl_mode", "ap", "choose_enable(F.wl_closed[0]);"); %>
    <% nvram_match("wl_mode", "ap", "choose_enable(F.wl_closed[1]);"); %>
  }
}

function to_submit(F) {
  if(F.wl_ssid.value == ""){
//    alert("You must input a SSID.");
	alert(errmsg.err50);
    F.wl_ssid.focus();
    return false;
  }
  F.submit_button.value = "Wireless_Basic";
//  F.save_button.value = "Saved";
  F.save_button.value = sbutton.saving;
  
  F.action.value = "Apply";
  apply(F);
}

function init() {
  wl_enable_disable(document.wireless,'<% nvram_else_match("wl_gmode","-1","0","1"); %>');
}
		</script>
	</head>

  <body class="gui" onload="init()">
  	<% showad(); %>
    <div id="wrapper">
      <div id="content">
        <div id="header">
          <div id="logo">
            <h1><% show_control(); %></h1>
          </div>
          <div id="menu">
            <div id="menuMain">
              <ul id="menuMainList">
                <li><a href="index.asp"><script type="text/javascript">Capture(bmenu.setup)</script></a></li>
                <li class="current"><span><script type="text/javascript">Capture(bmenu.wireless)</script></span>
                  <div id="menuSub">
                      <ul id="menuSubList">
                      <li><span><script type="text/javascript">Capture(bmenu.wirelessBasic)</script></span></li>
                      <li><a href="Wireless_radauth.asp"><script type="text/javascript">Capture(bmenu.wirelessRadius)</script></a></li>
                      <li><a href="WL_WPATable.asp"><script type="text/javascript">Capture(bmenu.wirelessSecurity)</script></a></li>
                      <li><a href="Wireless_MAC.asp"><script type="text/javascript">Capture(bmenu.wirelessMac)</script></a></li>
                      <li><a href="Wireless_Advanced.asp"><script type="text/javascript">Capture(bmenu.wirelessAdvanced)</script></a></li>
                      <li><a href="Wireless_WDS.asp"><script type="text/javascript">Capture(bmenu.wirelessWds)</script></a></li>
                    </ul>
                  </div>
                </li>
                <% nvram_invmatch("sipgate","1","<!--"); %>
                <li><a href="Sipath.asp"><script type="text/javascript">Capture(bmenu.sipath)</script></a></li>
                <% nvram_invmatch("sipgate","1","-->"); %>
                <li><a href="Firewall.asp"><script type="text/javascript">Capture(bmenu.security)</script></a></li>
                <li><a href="Filters.asp"><script type="text/javascript">Capture(bmenu.accrestriction)</script></a></li>
                <li><a href="Forward.asp"><script type="text/javascript">Capture(bmenu.applications)</script></a></li>
                <li><a href="Management.asp"><script type="text/javascript">Capture(bmenu.admin)</script></a></li>
                <li><a href="Status_Router.asp"><script type="text/javascript">Capture(bmenu.statu)</script></a></li>
              </ul>
            </div>
          </div>
        </div>
        <div id="main">
          <div id="contents">
            <form name="wireless" action="apply.cgi" method="<% get_http_method(); %>">
                <input type="hidden" name="submit_button" value="Wireless_Basic" />
                <input type="hidden" name="commit" value="1" />
                <input type="hidden" name="action" value="Apply" />
                <h2><script type="text/javascript">Capture(wl_basic.h2)</script></h2>
                <fieldset>
                  <legend><script type="text/javascript">Capture(wl_basic.legend)</script></legend>
                  <div class="setting">
                    <div class="label"><script type="text/javascript">Capture(wl_basic.label)</script></div>
                    <select name="wl_mode">
                      <script type="text/javascript">document.write("<option value=\"ap\" <% nvram_selected("wl_mode", "ap", "js"); %>>" + wl_basic.ap + "</option>");</script>
                      <script type="text/javascript">document.write("<option value=\"sta\" <% nvram_selected("wl_mode", "sta", "js"); %>>" + wl_basic.client + "</option>");</script>
                      <script type="text/javascript">document.write("<option value=\"wet\" <% nvram_selected("wl_mode", "wet", "js"); %>>" + wl_basic.clientBridge + "</option>");</script>
                      <script type="text/javascript">document.write("<option value=\"infra\" <% nvram_selected("wl_mode", "infra", "js"); %>>" + wl_basic.adhoc + "</option>");</script>
                    </select>
                  </div>
                  <div class="setting">
                    <div class="label"><script type="text/javascript">Capture(wl_basic.label2)</script></div>
                    <select name="wl_net_mode" onchange="SelWL(this.form.wl_net_mode.selectedIndex,this.form)">
                      <script type="text/javascript">document.write("<option value=\"disabled\" <% nvram_selected("wl_net_mode", "disabled", "js"); %>>" + share.disable +"</option>");</script>
                      <script type="text/javascript">document.write("<option value=\"mixed\" <% nvram_selected("wl_net_mode", "mixed", "js"); %>>" + wl_basic.mixed + "</option>");</script>
                      <script type="text/javascript">
                      	if( <% nvram_get("wl_wds1_enable"); %> == "0" &&
                            <% nvram_get("wl_wds2_enable"); %> == "0" &&
                            <% nvram_get("wl_wds3_enable"); %> == "0" &&
                            <% nvram_get("wl_wds4_enable"); %> == "0" &&
                            <% nvram_get("wl_wds5_enable"); %> == "0" &&
                            <% nvram_get("wl_wds6_enable"); %> == "0" &&
                            <% nvram_get("wl_wds7_enable"); %> == "0" &&
                            <% nvram_get("wl_wds8_enable"); %> == "0" &&
                            <% nvram_get("wl_wds9_enable"); %> == "0" &&
                            <% nvram_get("wl_wds10_enable"); %> == "0") {
 
                      		document.write("<option value=\"b-only\" <% nvram_selected("wl_net_mode", "b-only", "js"); %>>" + wl_basic.b + "</option>");

                      	}
                      </script>
                      <script type="text/javascript">document.write("<option value=\"g-only\" <% nvram_selected("wl_net_mode", "g-only", "js"); %>>" + wl_basic.g + "</option>");</script>
                    </select>
                  </div>
                  <div class="setting">
                    <div class="label"><script type="text/javascript">Capture(wl_basic.label3)</script></div>
                    <input name="wl_ssid" size="20" maxlength="32" onblur="valid_name(this,'SSID')" value="<% nvram_get("wl_ssid"); %>" />
                  </div>
                  <% nvram_invmatch("wl_mode", "ap", "<!--"); %>
                  <div class="setting">
                    <div class="label"><script type="text/javascript">Capture(wl_basic.label4)</script></div>
                    <select name="wl_channel" onfocus="check_action(this,0)">
                      <script type="text/javascript">
                        var max_channel = 14;
                        var wl_channel = "<% nvram_get("wl_channel"); %>";
                        var buf = "";
                        var freq = new Array("Auto","2.412","2.417","2.422","2.427","2.432","2.437","2.442","2.447","2.452","2.457","2.462","2.467","2.472","2.484");
                        for(i=0; i<=max_channel ; i++){
                          if(i == wl_channel) buf = "selected";
                          else buf = "";
                          if(i==0){
                            document.write("<option value="+i+" "+buf+">Auto</option>");
                          }
                          else{
                            if(i<10)
                              document.write("<option value="+i+" "+buf+">&nbsp;&nbsp;"+i+" - "+freq[i]+"&nbsp;GHz</option>");
                            else
                              document.write("<option value="+i+" "+buf+">"+i+" - "+freq[i]+"&nbsp;GHz</option>");
                          }
                        }
                      </script>
                    </select>
                  </div>
                  <div class="setting">
                    <div class="label"><script type="text/javascript">Capture(wl_basic.label5)</script></div>
                    <input class="spaceradio" type="radio" value="0" name="wl_closed" <% nvram_checked("wl_closed","0"); %>><script type="text/javascript">Capture(share.enable)</script></input>&nbsp;
                    <input class="spaceradio" type="radio" value="1" name="wl_closed" <% nvram_checked("wl_closed","1"); %>><script type="text/javascript">Capture(share.disable)</script></input>
                  </div>
                  <% nvram_invmatch("wl_mode", "ap", "-->"); %>
                  <br/>
                  <div class="setting">
                    <div class="label"><script type="text/javascript">Capture(wl_basic.label6)</script></div>
                    <input class="num" name="wl_distance" size="8" maxlength="8" value="<% nvram_get("wl_distance"); %>" />
                    <span class="default">(<script type="text/javascript">Capture(wl_basic.sensitivity)</script>)</span>
                  </div>
                </fieldset>
                <br/>
                  <div class="submitFooter">
                    <script type="text/javascript">document.write("<input type=\"button\" name=\"save_button\" value=\"" + sbutton.save + "\" onclick=\"to_submit(this.form)\" />");</script>
                    <script type="text/javascript">document.write("<input type=\"reset\" value=\"" + sbutton.cancel +"\" />");</script>
                </div>
              </form>
          </div>
        </div>
				<div id="helpContainer">
					<div id="help">
						<div id="logo"><h2><script type="text/javascript">Capture(share.help)</script></h2></div>
						<dl>
							<dt class="term"><script type="text/javascript">Capture(wl_basic.label2)</script>:</dt>
							<dd class="definition"><script type="text/javascript">Capture(hwl_basic.right2)</script></dd>
							<dt class="term"><script type="text/javascript">Capture(hwl_basic.right3)</script></dt>
							<dd class="definition"><script type="text/javascript">Capture(hwl_basic.right4)</script></dt>
						</dl><br />
						<a href="javascript:openHelpWindow('HWireless.asp')"><script type="text/javascript">Capture(share.more)</script></a>
					</div>
				</div>
				<div id="floatKiller"></div>
				<div id="statusInfo">
					<div class="info"><script type="text/javascript">Capture(share.firmware)</script>: <script>document.write("<a title=\"" + share.about + "\" href=\"javascript:openAboutWindow()\"><% get_firmware_version(); %></a>");</script></div>
					<div class="info"><script type="text/javascript">Capture(share.time)</script>: <% get_uptime(); %></div>
					<div class="info">WAN <% nvram_match("wl_mode","wet","disabled <!--"); %><% nvram_match("wan_proto","disabled","disabled <!--"); %>IP: <% nvram_status_get("wan_ipaddr"); %><% nvram_match("wan_proto","disabled","-->"); %><% nvram_match("wl_mode","wet","-->"); %></div>
				</div>
			</div>
		</div>
	</body>
</html>